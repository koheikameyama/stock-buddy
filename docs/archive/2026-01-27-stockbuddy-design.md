# Stock Buddy è¨­è¨ˆæ›¸ï¼ˆæœ€çµ‚ç‰ˆï¼‰

## ä½œæˆæ—¥
2026-01-27

## æ¦‚è¦
Stock Buddyã¯ã€æ ªå¼æŠ•è³‡åˆå¿ƒè€…å‘ã‘ã®AIæŠ•è³‡ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹ã€‚
**ã€Œä»»ã›ã¦å­¦ã‚“ã§ã€ä¸€ç·’ã«å¢—ã‚„ã™ã€**ã‚’ã‚³ãƒ³ã‚»ãƒ—ãƒˆã«ã€AIã«åˆ¤æ–­ã‚’ä»»ã›ãªãŒã‚‰ç†ç”±ã‚’ç†è§£ã§ãã‚‹æŠ•è³‡ã‚’æä¾›ã™ã‚‹ã€‚

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆæœ€çµ‚ç‰ˆï¼‰

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- **Next.js 14** (App Router)
- **TypeScript**
- **TailwindCSS**
- **NextAuth.js** (Google OAuth)
- **Prisma** (ORM)
- **OpenAI API** (GPT-4 - ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ)
- **technicalindicators** (npm - æŠ€è¡“æŒ‡æ¨™è¨ˆç®—)

### Cronã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- **Python 3.11+**
- **yfinance** (æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—)
- **psycopg2** (PostgreSQLæ¥ç¶š)

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **PostgreSQL** (Railwayæä¾›)

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Railway**
  - Next.jsã‚µãƒ¼ãƒ“ã‚¹
  - PostgreSQLã‚µãƒ¼ãƒ“ã‚¹
  - Cron Jobï¼ˆæ¯æ—¥17:00 JSTï¼‰

---

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Railway Project                â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Next.js Service (Port 3000)      â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰]                  â”‚  â”‚
â”‚  â”‚  - React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ            â”‚  â”‚
â”‚  â”‚  - TailwindCSS                    â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  [ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: API Routes]        â”‚  â”‚
â”‚  â”‚  - /api/stocks/*                  â”‚  â”‚
â”‚  â”‚  - /api/portfolios/*              â”‚  â”‚
â”‚  â”‚  - /api/reports/*                 â”‚  â”‚
â”‚  â”‚  - NextAuth.js (Google OAuth)     â”‚  â”‚
â”‚  â”‚  - OpenAI API å‘¼ã³å‡ºã—             â”‚  â”‚
â”‚  â”‚  - Prisma ORM                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PostgreSQL Service               â”‚  â”‚
â”‚  â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿                  â”‚  â”‚
â”‚  â”‚  - æ ªä¾¡ãƒ‡ãƒ¼ã‚¿                      â”‚  â”‚
â”‚  â”‚  - ãƒ¬ãƒãƒ¼ãƒˆå±¥æ­´                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Cron Job (æ¯æ—¥17:00 JST)         â”‚  â”‚
â”‚  â”‚  - Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ           â”‚  â”‚
â”‚  â”‚  - yfinance ã§æ ªä¾¡å–å¾—             â”‚  â”‚
â”‚  â”‚  - PostgreSQL ã«ç›´æ¥æ›¸ãè¾¼ã¿       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤–éƒ¨API: OpenAI GPT-4
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
1. **æ¯æ—¥17:00**: CronãŒPythonã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
2. **Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: yfinanceã§æ ªä¾¡ãƒ»æŒ‡æ¨™ãƒ‡ãƒ¼ã‚¿å–å¾— â†’ PostgreSQLã«ä¿å­˜
3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹**: Next.jsãƒšãƒ¼ã‚¸è¡¨ç¤º
4. **API Routes**: DBã‹ã‚‰æœ€æ–°ãƒ‡ãƒ¼ã‚¿å–å¾— â†’ OpenAI APIã§ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
5. **Next.js**: ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º

### è¨­è¨ˆã®å¤‰æ›´ç†ç”±
- å½“åˆFastAPI + Next.jsã®2ã‚µãƒ¼ãƒãƒ¼æ§‹æˆã‚’æ¤œè¨
- yfinanceã®ç”¨é€”ãŒé™å®šçš„ï¼ˆCronã®ã¿ï¼‰ã§ã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜
- æŠ€è¡“æŒ‡æ¨™è¨ˆç®—ã‚‚JavaScriptï¼ˆtechnicalindicatorsï¼‰ã§ååˆ†å¯èƒ½
- Next.js API Routesã§å…¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯ã‚’çµ±åˆã™ã‚‹ã“ã¨ã§å¤§å¹…ã«ã‚·ãƒ³ãƒ—ãƒ«åŒ–

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
stock-buddy/
â”‚
â”œâ”€ app/                          # Next.js App Router
â”‚  â”œâ”€ (auth)/
â”‚  â”‚  â”œâ”€ login/
â”‚  â”‚  â””â”€ onboarding/
â”‚  â”‚     â”œâ”€ page.tsx
â”‚  â”‚     â””â”€ components/
â”‚  â”œâ”€ dashboard/
â”‚  â”‚  â””â”€ page.tsx
â”‚  â”œâ”€ portfolio/
â”‚  â”œâ”€ history/
â”‚  â”œâ”€ api/                       # API Routes
â”‚  â”‚  â”œâ”€ auth/[...nextauth]/     # NextAuth
â”‚  â”‚  â”‚  â””â”€ route.ts
â”‚  â”‚  â”œâ”€ stocks/
â”‚  â”‚  â”‚  â”œâ”€ route.ts
â”‚  â”‚  â”‚  â”œâ”€ search/route.ts
â”‚  â”‚  â”‚  â””â”€ [ticker]/
â”‚  â”‚  â”‚     â”œâ”€ route.ts
â”‚  â”‚  â”‚     â””â”€ prices/route.ts
â”‚  â”‚  â”œâ”€ portfolios/
â”‚  â”‚  â”‚  â”œâ”€ route.ts
â”‚  â”‚  â”‚  â””â”€ [id]/
â”‚  â”‚  â”œâ”€ reports/
â”‚  â”‚  â”‚  â””â”€ daily/[portfolioId]/route.ts
â”‚  â”‚  â”œâ”€ transactions/
â”‚  â”‚  â”‚  â””â”€ route.ts
â”‚  â”‚  â””â”€ onboarding/
â”‚  â”‚     â””â”€ recommend/route.ts
â”‚  â””â”€ page.tsx                   # LP
â”‚
â”œâ”€ components/
â”‚  â”œâ”€ ui/                        # shadcn/ui components
â”‚  â”œâ”€ dashboard/
â”‚  â”‚  â”œâ”€ DailyReport.tsx
â”‚  â”‚  â””â”€ PortfolioSummary.tsx
â”‚  â””â”€ onboarding/
â”‚     â”œâ”€ InvestmentTypeSelector.tsx
â”‚     â”œâ”€ BudgetForm.tsx
â”‚     â””â”€ StockRecommendation.tsx
â”‚
â”œâ”€ lib/
â”‚  â”œâ”€ prisma.ts                  # Prisma client
â”‚  â”œâ”€ auth.ts                    # NextAuth config
â”‚  â”œâ”€ openai.ts                  # OpenAI client
â”‚  â””â”€ indicators.ts              # æŠ€è¡“æŒ‡æ¨™è¨ˆç®—
â”‚
â”œâ”€ prisma/
â”‚  â”œâ”€ schema.prisma              # DB schema
â”‚  â””â”€ migrations/
â”‚
â”œâ”€ scripts/                      # Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚  â”œâ”€ fetch_stocks.py            # Cronã§å®Ÿè¡Œ
â”‚  â”œâ”€ init_data.py               # åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
â”‚  â””â”€ requirements.txt
â”‚
â”œâ”€ docs/
â”‚  â”œâ”€ specification.md
â”‚  â””â”€ plans/
â”‚     â””â”€ 2026-01-27-stockbuddy-design.md
â”‚
â”œâ”€ package.json
â”œâ”€ tsconfig.json
â”œâ”€ tailwind.config.ts
â”œâ”€ next.config.js
â””â”€ README.md
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆPrisma Schemaï¼‰

```prisma
// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// NextAuth.js èªè¨¼
model Account {
  id                String  @id @default(cuid())
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String? @db.Text
  access_token      String? @db.Text
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String? @db.Text
  session_state     String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model User {
  id            String          @id @default(cuid())
  name          String?
  email         String?         @unique
  emailVerified DateTime?
  image         String?
  accounts      Account[]
  sessions      Session[]
  portfolio     Portfolio?
  settings      UserSettings?
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
model UserSettings {
  id                 String   @id @default(cuid())
  userId             String   @unique
  user               User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  investmentAmount   Int
  investmentPeriod   String   // 'short' | 'medium' | 'long'
  riskTolerance      String   // 'low' | 'medium' | 'high'
  isExistingInvestor Boolean  @default(false)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

// éŠ˜æŸ„ãƒã‚¹ã‚¿
model Stock {
  id                String             @id @default(cuid())
  tickerCode        String             @unique
  name              String
  market            String
  sector            String?
  prices            StockPrice[]
  indicators        StockIndicator[]
  portfolioStocks   PortfolioStock[]
  transactions      Transaction[]
  dailyReports      DailyReport[]
  createdAt         DateTime           @default(now())

  @@index([tickerCode])
}

// æ—¥æ¬¡æ ªä¾¡ãƒ‡ãƒ¼ã‚¿
model StockPrice {
  id            String   @id @default(cuid())
  stockId       String
  stock         Stock    @relation(fields: [stockId], references: [id], onDelete: Cascade)
  date          DateTime @db.Date
  open          Decimal  @db.Decimal(12, 2)
  high          Decimal  @db.Decimal(12, 2)
  low           Decimal  @db.Decimal(12, 2)
  close         Decimal  @db.Decimal(12, 2)
  volume        BigInt
  adjustedClose Decimal? @db.Decimal(12, 2)
  createdAt     DateTime @default(now())

  @@unique([stockId, date])
  @@index([stockId, date(sort: Desc)])
}

// æŠ€è¡“æŒ‡æ¨™ãƒ‡ãƒ¼ã‚¿
model StockIndicator {
  id      String   @id @default(cuid())
  stockId String
  stock   Stock    @relation(fields: [stockId], references: [id], onDelete: Cascade)
  date    DateTime @db.Date
  sma25   Decimal? @db.Decimal(12, 2)
  sma75   Decimal? @db.Decimal(12, 2)
  rsi14   Decimal? @db.Decimal(5, 2)
  macd    Decimal? @db.Decimal(12, 4)
  signal  Decimal? @db.Decimal(12, 4)
  createdAt DateTime @default(now())

  @@unique([stockId, date])
  @@index([stockId, date(sort: Desc)])
}

// ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª
model Portfolio {
  id             String           @id @default(cuid())
  userId         String           @unique
  user           User             @relation(fields: [userId], references: [id], onDelete: Cascade)
  name           String           @default("ãƒã‚¤ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª")
  isActive       Boolean          @default(true)
  stocks         PortfolioStock[]
  transactions   Transaction[]
  dailyReports   DailyReport[]
  createdAt      DateTime         @default(now())
  updatedAt      DateTime         @updatedAt
}

// ä¿æœ‰éŠ˜æŸ„
model PortfolioStock {
  id           String    @id @default(cuid())
  portfolioId  String
  portfolio    Portfolio @relation(fields: [portfolioId], references: [id], onDelete: Cascade)
  stockId      String
  stock        Stock     @relation(fields: [stockId], references: [id], onDelete: Cascade)
  quantity     Int
  averagePrice Decimal   @db.Decimal(12, 2)
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt

  @@unique([portfolioId, stockId])
  @@index([portfolioId])
}

// å£²è²·å±¥æ­´
model Transaction {
  id          String    @id @default(cuid())
  portfolioId String
  portfolio   Portfolio @relation(fields: [portfolioId], references: [id], onDelete: Cascade)
  stockId     String
  stock       Stock     @relation(fields: [stockId], references: [id], onDelete: Cascade)
  type        String    // 'buy' | 'sell'
  quantity    Int
  price       Decimal   @db.Decimal(12, 2)
  totalAmount Decimal   @db.Decimal(12, 2)
  executedAt  DateTime
  note        String?
  createdAt   DateTime  @default(now())

  @@index([portfolioId, executedAt(sort: Desc)])
  @@index([stockId, executedAt(sort: Desc)])
}

// æ¯æ—¥ã®Buddyãƒ¬ãƒãƒ¼ãƒˆ
model DailyReport {
  id                String    @id @default(cuid())
  portfolioId       String
  portfolio         Portfolio @relation(fields: [portfolioId], references: [id], onDelete: Cascade)
  reportDate        DateTime  @db.Date
  action            String    // 'buy' | 'sell' | 'hold'
  targetStockId     String?
  targetStock       Stock?    @relation(fields: [targetStockId], references: [id])
  suggestedQuantity Int?
  suggestedPrice    Decimal?  @db.Decimal(12, 2)
  summary           String    @db.Text
  reasoning         String    @db.Text
  futurePlan        String?   @db.Text
  keyIndicators     Json?
  generatedAt       DateTime  @default(now())
  createdAt         DateTime  @default(now())

  @@unique([portfolioId, reportDate])
  @@index([portfolioId, reportDate(sort: Desc)])
  @@index([targetStockId, reportDate(sort: Desc)])
}

// æŒ‡æ¨™è§£èª¬ãƒã‚¹ã‚¿
model IndicatorExplanation {
  id                   String   @id @default(cuid())
  indicatorName        String   @unique
  shortDescription     String
  detailedExplanation  String?  @db.Text
  exampleUsage         String?  @db.Text
  createdAt            DateTime @default(now())
}
```

---

## ç”»é¢è¨­è¨ˆ

### 1. LPï¼ˆãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ï¼‰
- ãƒ’ãƒ¼ãƒ­ãƒ¼ + ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼: ã€ŒAIã«ä»»ã›ã¦ã€æ¯æ—¥ã¡ã‚‡ã£ã¨åˆ†ã‹ã‚‹æŠ•è³‡ã€
- ç‰¹å¾´èª¬æ˜ï¼ˆ3ã‚«ãƒ©ãƒ ï¼‰
  - åˆ¤æ–­ã¯AIã«ä»»ã›ã‚‰ã‚Œã‚‹
  - æ¯æ—¥å°‘ã—ãšã¤ç†è§£ã§ãã‚‹
  - ã‚·ãƒ³ãƒ—ãƒ«ã§ç¶šã‘ã‚„ã™ã„
- ä½¿ã„æ–¹ã®æµã‚Œï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- CTA: ã€Œç„¡æ–™ã§å§‹ã‚ã‚‹ã€â†’ ãƒ­ã‚°ã‚¤ãƒ³

### 2. ãƒ­ã‚°ã‚¤ãƒ³
- NextAuth.js (Google OAuth)
- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ­ã‚°ã‚¤ãƒ³ç”»é¢

### 3. ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

#### 3-1. æŠ•è³‡çŠ¶æ³é¸æŠ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚ãªãŸã®æŠ•è³‡çŠ¶æ³ã‚’æ•™ãˆã¦ãã ã•ã„   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—‹ ã“ã‚Œã‹ã‚‰æŠ•è³‡ã‚’å§‹ã‚ã‚‹           â”‚
â”‚  â—‹ ã™ã§ã«æŠ•è³‡ã‚’ã—ã¦ã„ã‚‹           â”‚
â”‚                                 â”‚
â”‚          [æ¬¡ã¸]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3-2-A. ã“ã‚Œã‹ã‚‰å§‹ã‚ã‚‹ï¼ˆAIéŠ˜æŸ„ææ¡ˆï¼‰
```
æŠ•è³‡ãƒ—ãƒ©ãƒ³è¨­å®šç”»é¢
- æŠ•è³‡äºˆç®—é¸æŠ
- æŠ•è³‡æœŸé–“é¸æŠï¼ˆçŸ­æœŸ/ä¸­é•·æœŸï¼‰
- ãƒªã‚¹ã‚¯è¨±å®¹åº¦é¸æŠï¼ˆä½/ä¸­/é«˜ï¼‰
  â†“
AIéŠ˜æŸ„ææ¡ˆç”»é¢
- ææ¡ˆéŠ˜æŸ„ä¸€è¦§ï¼ˆéŠ˜æŸ„åã€æ ªæ•°ã€äºˆç®—ã€ç†ç”±ï¼‰
- [ã“ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã§å§‹ã‚ã‚‹]
```

#### 3-2-B. ã™ã§ã«æŠ•è³‡ã—ã¦ã„ã‚‹ï¼ˆæ‰‹å‹•å…¥åŠ›ï¼‰
```
ä¿æœ‰éŠ˜æŸ„ç™»éŒ²ç”»é¢
- éŠ˜æŸ„æ¤œç´¢ï¼ˆã‚³ãƒ¼ãƒ‰oråå‰ï¼‰
- æ ªæ•°ãƒ»å¹³å‡å–å¾—å˜ä¾¡å…¥åŠ›
- [+ éŠ˜æŸ„ã‚’è¿½åŠ ]
- [ç™»éŒ²å®Œäº†]
```

### 4. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ¡ã‚¤ãƒ³ç”»é¢ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stock Buddy              [è¨­å®š] [ğŸ‘¤] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… 2026/01/27 ã®ãƒ¬ãƒãƒ¼ãƒˆ             â”‚
â”‚                                       â”‚
â”‚  ğŸ”” ä»Šæ—¥ã®çµè«–                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Šã‚’ 50æ ª å£²å´æ¨å¥¨       â”‚ â”‚
â”‚  â”‚  ä¾¡æ ¼: 2,800å††                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚
â”‚  ğŸ“Š ä»Šæ—¥ã®çŠ¶æ³                         â”‚
â”‚  æ ªä¾¡ãŒä¸Šæ˜‡ãƒˆãƒ¬ãƒ³ãƒ‰ã‹ã‚‰åè»¢ã®å…†ã—ãŒ     â”‚
â”‚  è¦‹ãˆã¦ã„ã¾ã™ã€‚åˆ©ç›Šç¢ºå®šã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°     â”‚
â”‚  ã¨ã—ã¦è‰¯ã„çŠ¶æ…‹ã§ã™ã€‚                  â”‚
â”‚                                       â”‚
â”‚  ğŸ” è¦‹ã¦ã„ã‚‹æŒ‡æ¨™                       â”‚
â”‚  ãƒ»25æ—¥ç§»å‹•å¹³å‡: 2,750å†† [?]          â”‚
â”‚  ãƒ»RSI: 72 (è²·ã‚ã‚Œã™ã) [?]           â”‚
â”‚                                       â”‚
â”‚  ğŸ“ ä»Šå¾Œã®æ–¹é‡                         â”‚
â”‚  RSIãŒ70ã‚’è¶…ãˆã¦ã„ã‚‹ãŸã‚ã€ä¸€æ—¦       â”‚
â”‚  åˆ©ç›Šç¢ºå®šã€‚å†åº¦60ä»¥ä¸‹ã«ãªã£ãŸã‚‰       â”‚
â”‚  è²·ã„æˆ»ã—æ¤œè¨ã€‚                       â”‚
â”‚                                       â”‚
â”‚  [ã“ã®ææ¡ˆã‚’å®Ÿè¡Œã™ã‚‹]                  â”‚
â”‚  [éå»ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’è¦‹ã‚‹]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¼ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š    100æ ª   +5,000å††     â”‚
â”‚  ä¸‰è±UFJ      1000æ ª   +2,000å††     â”‚
â”‚                                       â”‚
â”‚  åˆè¨ˆæç›Š: +7,000å†† (+2.3%)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ãã®ä»–ç”»é¢
- ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè©³ç´°
- å–å¼•å±¥æ­´
- éå»ã®ãƒ¬ãƒãƒ¼ãƒˆä¸€è¦§ï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ¥ãƒ¼ï¼‰
- è¨­å®š

---

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼

### åˆå¿ƒè€…ï¼ˆã“ã‚Œã‹ã‚‰æŠ•è³‡ã‚’å§‹ã‚ã‚‹ï¼‰
```
LP â†’ ãƒ­ã‚°ã‚¤ãƒ³ â†’ æŠ•è³‡çŠ¶æ³é¸æŠ
  â†’ äºˆç®—ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«å…¥åŠ›
  â†’ AIéŠ˜æŸ„ææ¡ˆ
  â†’ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œæˆ
  â†’ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆæ¯æ—¥ã®ãƒ¬ãƒãƒ¼ãƒˆï¼‰
```

### æ—¢å­˜æŠ•è³‡å®¶
```
LP â†’ ãƒ­ã‚°ã‚¤ãƒ³ â†’ æŠ•è³‡çŠ¶æ³é¸æŠ
  â†’ ä¿æœ‰éŠ˜æŸ„å…¥åŠ›
  â†’ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œæˆ
  â†’ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆæ¯æ—¥ã®ãƒ¬ãƒãƒ¼ãƒˆï¼‰
```

---

## APIè¨­è¨ˆï¼ˆNext.js API Routesï¼‰

### èªè¨¼ä¸è¦
- `GET /api/health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

### èªè¨¼å¿…è¦

#### éŠ˜æŸ„
- `GET /api/stocks` - éŠ˜æŸ„ä¸€è¦§
- `GET /api/stocks/search?q={query}` - éŠ˜æŸ„æ¤œç´¢
- `GET /api/stocks/[ticker]` - éŠ˜æŸ„è©³ç´°
- `GET /api/stocks/[ticker]/prices?from={date}&to={date}` - æ ªä¾¡ãƒ‡ãƒ¼ã‚¿

#### ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- `POST /api/onboarding/recommend` - AIéŠ˜æŸ„ææ¡ˆ
  - Body: `{investmentAmount, investmentPeriod, riskTolerance}`
  - Response: `{suggestedStocks: [{ticker, name, quantity, price, reasoning}]}`

#### ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª
- `POST /api/portfolios` - ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œæˆ
- `GET /api/portfolios/[id]` - ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè©³ç´°
- `GET /api/portfolios/[id]/performance` - æç›Šè¨ˆç®—
- `POST /api/portfolios/[id]/stocks` - éŠ˜æŸ„è¿½åŠ 
- `DELETE /api/portfolios/[id]/stocks/[stockId]` - éŠ˜æŸ„å‰Šé™¤

#### ãƒ¬ãƒãƒ¼ãƒˆ
- `GET /api/reports/daily/[portfolioId]?date={YYYY-MM-DD}` - æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆå–å¾—
- `GET /api/reports/history/[portfolioId]` - ãƒ¬ãƒãƒ¼ãƒˆå±¥æ­´

#### å–å¼•
- `POST /api/transactions` - å£²è²·å®Ÿè¡Œ
  - Body: `{portfolioId, stockId, type, quantity, price}`
- `GET /api/transactions/[portfolioId]` - å–å¼•å±¥æ­´

---

## æŠ€è¡“æŒ‡æ¨™è¨ˆç®—ï¼ˆJavaScriptï¼‰

```typescript
// lib/indicators.ts
import { SMA, RSI, MACD } from 'technicalindicators';

export interface IndicatorResult {
  sma25: number[];
  sma75: number[];
  rsi14: number[];
  macd: {
    MACD: number[];
    signal: number[];
    histogram: number[];
  }[];
}

export function calculateIndicators(closePrices: number[]): IndicatorResult {
  return {
    sma25: SMA.calculate({ period: 25, values: closePrices }),
    sma75: SMA.calculate({ period: 75, values: closePrices }),
    rsi14: RSI.calculate({ period: 14, values: closePrices }),
    macd: MACD.calculate({
      values: closePrices,
      fastPeriod: 12,
      slowPeriod: 26,
      signalPeriod: 9,
      SimpleMAOscillator: false,
      SimpleMASignal: false
    })
  };
}
```

**npmãƒ©ã‚¤ãƒ–ãƒ©ãƒª:**
- `technicalindicators` - 50ç¨®é¡ä»¥ä¸Šã®æŒ‡æ¨™å¯¾å¿œ
- TypeScriptå®Œå…¨å¯¾å¿œ
- è»½é‡ãƒ»é«˜é€Ÿ

---

## Cronã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆPythonï¼‰

### æ ªä¾¡å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```python
# scripts/fetch_stocks.py
import yfinance as yf
import psycopg2
from datetime import datetime, timedelta
import os
import sys

DATABASE_URL = os.getenv("DATABASE_URL")

def fetch_and_store():
    """
    1. DBã‹ã‚‰ç›£è¦–éŠ˜æŸ„ã‚’å–å¾—
    2. yfinanceã§æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—
    3. PostgreSQLã«ä¿å­˜
    """
    try:
        conn = psycopg2.connect(DATABASE_URL)
        cur = conn.cursor()

        # ç›£è¦–éŠ˜æŸ„ã‚’å–å¾—
        cur.execute('SELECT DISTINCT "tickerCode" FROM "Stock"')
        tickers = [row[0] for row in cur.fetchall()]

        print(f"Fetching data for {len(tickers)} stocks...")

        for ticker in tickers:
            try:
                print(f"Processing {ticker}...")
                stock = yf.Ticker(ticker)

                # éå»90æ—¥åˆ†å–å¾—ï¼ˆæŒ‡æ¨™è¨ˆç®—ç”¨ã«ä½™è£•ã‚’æŒãŸã›ã‚‹ï¼‰
                hist = stock.history(period="90d")

                if hist.empty:
                    print(f"No data for {ticker}")
                    continue

                # stock_idå–å¾—
                cur.execute('SELECT id FROM "Stock" WHERE "tickerCode" = %s', (ticker,))
                stock_id = cur.fetchone()[0]

                # æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’INSERTï¼ˆé‡è¤‡ã¯ç„¡è¦–ï¼‰
                for date, row in hist.iterrows():
                    cur.execute("""
                        INSERT INTO "StockPrice"
                        ("stockId", date, open, high, low, close, volume, "adjustedClose", "createdAt")
                        VALUES (%s, %s, %s, %s, %s, %s, %s, %s, NOW())
                        ON CONFLICT ("stockId", date) DO NOTHING
                    """, (
                        stock_id,
                        date.date(),
                        float(row['Open']),
                        float(row['High']),
                        float(row['Low']),
                        float(row['Close']),
                        int(row['Volume']),
                        float(row['Close'])  # adjustedClose
                    ))

                conn.commit()
                print(f"âœ“ {ticker} completed")

            except Exception as e:
                print(f"âœ— Error processing {ticker}: {e}")
                conn.rollback()
                continue

        cur.close()
        conn.close()
        print("All done!")

    except Exception as e:
        print(f"Fatal error: {e}")
        sys.exit(1)

if __name__ == "__main__":
    fetch_and_store()
```

### åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```python
# scripts/init_data.py
import yfinance as yf
import psycopg2
import os

DATABASE_URL = os.getenv("DATABASE_URL")

# ä¸»è¦éŠ˜æŸ„ï¼ˆä¾‹: æ—¥çµŒ225ã®ä¸»è¦æ ªï¼‰
MAJOR_STOCKS = [
    ("7203.T", "ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š", "TSE", "è¼¸é€ç”¨æ©Ÿå™¨"),
    ("9984.T", "ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯ã‚°ãƒ«ãƒ¼ãƒ—", "TSE", "æƒ…å ±ãƒ»é€šä¿¡æ¥­"),
    ("6758.T", "ã‚½ãƒ‹ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—", "TSE", "é›»æ°—æ©Ÿå™¨"),
    ("9433.T", "KDDI", "TSE", "æƒ…å ±ãƒ»é€šä¿¡æ¥­"),
    ("8306.T", "ä¸‰è±UFJãƒ•ã‚£ãƒŠãƒ³ã‚·ãƒ£ãƒ«ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—", "TSE", "éŠ€è¡Œæ¥­"),
    # ... è¿½åŠ 
]

def init_stocks():
    conn = psycopg2.connect(DATABASE_URL)
    cur = conn.cursor()

    for ticker, name, market, sector in MAJOR_STOCKS:
        print(f"Initializing {ticker} - {name}...")

        # éŠ˜æŸ„ãƒã‚¹ã‚¿ç™»éŒ²
        cur.execute("""
            INSERT INTO "Stock" ("tickerCode", name, market, sector, "createdAt")
            VALUES (%s, %s, %s, %s, NOW())
            ON CONFLICT ("tickerCode") DO NOTHING
        """, (ticker, name, market, sector))

        # éå»2å¹´åˆ†ã®æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—
        stock = yf.Ticker(ticker)
        hist = stock.history(period="2y")

        cur.execute('SELECT id FROM "Stock" WHERE "tickerCode" = %s', (ticker,))
        stock_id = cur.fetchone()[0]

        for date, row in hist.iterrows():
            cur.execute("""
                INSERT INTO "StockPrice"
                ("stockId", date, open, high, low, close, volume, "adjustedClose", "createdAt")
                VALUES (%s, %s, %s, %s, %s, %s, %s, %s, NOW())
                ON CONFLICT ("stockId", date) DO NOTHING
            """, (
                stock_id,
                date.date(),
                float(row['Open']),
                float(row['High']),
                float(row['Low']),
                float(row['Close']),
                int(row['Volume']),
                float(row['Close'])
            ))

        conn.commit()
        print(f"âœ“ {ticker} initialized with 2 years of data")

    cur.close()
    conn.close()
    print("Initialization complete!")

if __name__ == "__main__":
    init_stocks()
```

### requirements.txt

```
yfinance==0.2.37
psycopg2-binary==2.9.9
```

---

## Railwayè¨­å®š

### Cron Jobè¨­å®š

Railway Dashboard â†’ Cron â†’ New Cron

```bash
# ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆæ¯æ—¥17:00 JST = 08:00 UTCï¼‰
0 8 * * *

# ã‚³ãƒãƒ³ãƒ‰
cd /app && python scripts/fetch_stocks.py
```

### ç’°å¢ƒå¤‰æ•°

```env
DATABASE_URL=postgresql://...
NEXTAUTH_URL=https://your-app.railway.app
NEXTAUTH_SECRET=your-secret-key
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
OPENAI_API_KEY=sk-...
```

---

## OpenAI ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ

### ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆä¾‹ï¼‰

```typescript
// lib/openai.ts
export async function generateDailyReport(data: {
  stock: { name: string; ticker: string };
  currentPrice: number;
  quantity: number;
  averagePrice: number;
  indicators: {
    sma25: number;
    sma75: number;
    rsi14: number;
    macd: number;
  };
}) {
  const prompt = `
ã‚ãªãŸã¯æ ªå¼æŠ•è³‡åˆå¿ƒè€…å‘ã‘ã®AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã€ŒStock Buddyã€ã§ã™ã€‚
ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…ƒã«ã€ä»Šæ—¥ã®æŠ•è³‡åˆ¤æ–­ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

# åˆ¶ç´„
- åˆå¿ƒè€…ã«ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„è¨€è‘‰ã§èª¬æ˜
- å°‚é–€ç”¨èªã¯å¿…ãšèª¬æ˜ã‚’æ·»ãˆã‚‹
- ç…½ã‚‰ãªã„ã€æ–­å®šçš„ã™ããªã„è¡¨ç¾
- åˆ¤æ–­ç†ç”±ã‚’æ˜ç¢ºã«
- ä¸ç¢ºå®Ÿæ€§ã‚’èªã‚ã‚‹ï¼ˆã€Œã€œã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€ç­‰ï¼‰

# ãƒ‡ãƒ¼ã‚¿
- éŠ˜æŸ„: ${data.stock.name} (${data.stock.ticker})
- ç¾åœ¨ä¾¡æ ¼: ${data.currentPrice}å††
- ä¿æœ‰æ•°: ${data.quantity}æ ª
- å¹³å‡å–å¾—å˜ä¾¡: ${data.averagePrice}å††
- 25æ—¥ç§»å‹•å¹³å‡: ${data.indicators.sma25}å††
- 75æ—¥ç§»å‹•å¹³å‡: ${data.indicators.sma75}å††
- RSI(14): ${data.indicators.rsi14}
- MACD: ${data.indicators.macd}

# å‡ºåŠ›å½¢å¼ï¼ˆJSONï¼‰
å¿…ãšä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
{
  "action": "buy" | "sell" | "hold",
  "suggestedQuantity": number,
  "suggestedPrice": number,
  "summary": "ä»Šæ—¥ã®çŠ¶æ³ã‚’åˆå¿ƒè€…å‘ã‘ã«2-3æ–‡ã§èª¬æ˜",
  "reasoning": "ãªãœã“ã®åˆ¤æ–­ã‚’ã—ãŸã‹ã€‚è¦‹ã¦ã„ã‚‹æŒ‡æ¨™ã¨ãã®æ„å‘³ã‚’å«ã‚ã¦3-4æ–‡ã§èª¬æ˜",
  "futurePlan": "ä»Šå¾Œã©ã†ãªã£ãŸã‚‰ã©ã†ã™ã‚‹ã‹ã€‚2-3æ–‡ã§èª¬æ˜",
  "keyIndicators": [
    {
      "name": "25æ—¥ç§»å‹•å¹³å‡",
      "value": ${data.indicators.sma25},
      "description": "çŸ­æœŸçš„ãªæ ªä¾¡ã®æµã‚Œã‚’ç¤ºã™ç·šã€‚ç¾åœ¨ä¾¡æ ¼ã‚ˆã‚Šä¸Šãªã‚‰ä¸Šæ˜‡å‚¾å‘"
    },
    {
      "name": "RSI",
      "value": ${data.indicators.rsi14},
      "description": "è²·ã‚ã‚Œã™ããƒ»å£²ã‚‰ã‚Œã™ãã‚’ç¤ºã™æ•°å­—ã€‚70ä»¥ä¸Šã¯è²·ã‚ã‚Œã™ãã€30ä»¥ä¸‹ã¯å£²ã‚‰ã‚Œã™ã"
    }
  ]
}
`;

  const response = await openai.chat.completions.create({
    model: "gpt-4",
    messages: [{ role: "user", content: prompt }],
    temperature: 0.7,
    response_format: { type: "json_object" }
  });

  return JSON.parse(response.choices[0].message.content);
}
```

---

## å®Ÿè£…è¨ˆç”»ï¼ˆãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ï¼‰

### Phase 0: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆ1-2æ—¥ï¼‰
- Next.js 14ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- Prisma ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- PostgreSQLæ¥ç¶šï¼ˆRailwayï¼‰
- TailwindCSS ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- åŸºæœ¬çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆä½œæˆ

### Phase 1: èªè¨¼ï¼ˆ1-2æ—¥ï¼‰
- NextAuth.js ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- Google OAuthè¨­å®š
- ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆUI
- èªè¨¼middleware

### Phase 2: ãƒ‡ãƒ¼ã‚¿åŸºç›¤ï¼ˆ2-3æ—¥ï¼‰
- Prisma schemaå®šç¾©
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆï¼ˆfetch_stocks.py, init_data.pyï¼‰
- åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆä¸»è¦éŠ˜æŸ„ï¼‰
- Railway Cronè¨­å®š

### Phase 3: éŠ˜æŸ„æ¤œç´¢ãƒ»è¡¨ç¤ºï¼ˆ1-2æ—¥ï¼‰
- `/api/stocks` å®Ÿè£…
- `/api/stocks/search` å®Ÿè£…
- éŠ˜æŸ„æ¤œç´¢UI
- technicalindicatorsçµ±åˆ

### Phase 4: ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆ3-4æ—¥ï¼‰
- æŠ•è³‡çŠ¶æ³é¸æŠç”»é¢
- ãƒ‘ã‚¿ãƒ¼ãƒ³A: äºˆç®—ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- ãƒ‘ã‚¿ãƒ¼ãƒ³B: ä¿æœ‰éŠ˜æŸ„å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- `/api/onboarding/recommend` å®Ÿè£…ï¼ˆOpenAIçµ±åˆï¼‰
- AIéŠ˜æŸ„ææ¡ˆUI
- `/api/portfolios` å®Ÿè£…

### Phase 5: æ¯æ—¥ã®Buddyãƒ¬ãƒãƒ¼ãƒˆï¼ˆ4-5æ—¥ï¼‰
- OpenAI APIçµ±åˆï¼ˆæœ¬æ ¼å®Ÿè£…ï¼‰
- ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
- `/api/reports/daily/[portfolioId]` å®Ÿè£…
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢
- æŒ‡æ¨™èª¬æ˜ãƒ¢ãƒ¼ãƒ€ãƒ«
- ãƒ¬ãƒãƒ¼ãƒˆå±¥æ­´æ©Ÿèƒ½

### Phase 6: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç®¡ç†ï¼ˆ2-3æ—¥ï¼‰
- `/api/transactions` å®Ÿè£…
- å£²è²·å®Ÿè¡ŒUI
- ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè©³ç´°ç”»é¢
- æç›Šè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- å–å¼•å±¥æ­´è¡¨ç¤º

### Phase 7: LP + æœ€çµ‚èª¿æ•´ï¼ˆ2æ—¥ï¼‰
- ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ä½œæˆ
- ãƒ‡ã‚¶ã‚¤ãƒ³èª¿æ•´
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

### Phase 8: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»é‹ç”¨ï¼ˆ1-2æ—¥ï¼‰
- Railwayæœ¬ç•ªç’°å¢ƒè¨­å®š
- ç’°å¢ƒå¤‰æ•°è¨­å®š
- Cronå‹•ä½œç¢ºèª
- E2Eãƒ†ã‚¹ãƒˆ

**ç·é–‹ç™ºæœŸé–“: 3-4é€±é–“**

---

## æŠ€è¡“çš„è€ƒæ…®äº‹é …

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- NextAuth.js ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- API Routes ã®èªè¨¼ãƒã‚§ãƒƒã‚¯
- ç’°å¢ƒå¤‰æ•°ã®é©åˆ‡ãªç®¡ç†
- Prismaã«ã‚ˆã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒªï¼ˆSQL injectionå¯¾ç­–ï¼‰

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆæ—¥æ¬¡æ›´æ–°ã®ã¿ï¼‰
- ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆçµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ1æ—¥1å›ç”Ÿæˆï¼‰
- Prismaã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- Next.js ã® ISR (Incremental Static Regeneration) æ´»ç”¨

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- yfinance APIå¤±æ•—æ™‚ã®ãƒªãƒˆãƒ©ã‚¤
- OpenAI APIå¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆéå»ã®ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆåˆå¿ƒè€…ã«ã‚‚åˆ†ã‹ã‚Šã‚„ã™ãï¼‰

### ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- Railway ãƒ­ã‚°ç›£è¦–
- Cronå®Ÿè¡Œãƒ­ã‚°
- OpenAI APIä½¿ç”¨é‡ç›£è¦–ï¼ˆã‚³ã‚¹ãƒˆç®¡ç†ï¼‰

### ãƒ‡ãƒ¼ã‚¿ä¿æŒãƒãƒªã‚·ãƒ¼
- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿: å…¨ãƒ‡ãƒ¼ã‚¿æ°¸ä¹…ä¿å­˜
- ãƒ¬ãƒãƒ¼ãƒˆå±¥æ­´: å…¨ãƒ‡ãƒ¼ã‚¿æ°¸ä¹…ä¿å­˜
- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°: å…¨ãƒ‡ãƒ¼ã‚¿æ°¸ä¹…ä¿å­˜
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚³ã‚¹ãƒˆã¯ä½ãã€å°†æ¥çš„ãªåˆ†æã«æœ‰ç”¨

---

## å°†æ¥ã®æ‹¡å¼µæ¡ˆ

- ç±³å›½æ ªå¯¾å¿œ
- ãƒ‡ã‚¤ãƒˆãƒ¬ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰
- ãƒ†ãƒ¼ãƒåˆ¥ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª
- è¨¼åˆ¸APIé€£æºï¼ˆè‡ªå‹•å£²è²·ï¼‰
- Stock Buddy Proï¼ˆæœ‰æ–™ãƒ—ãƒ©ãƒ³ï¼‰
  - è¤‡æ•°ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª
  - è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ†æ
- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªï¼ˆReact Nativeï¼‰
- LINE Botçµ±åˆ
- Slack Botçµ±åˆ

---

## å‚è€ƒè³‡æ–™

- ä»•æ§˜æ›¸: `docs/specification.md`
- yfinance: https://github.com/ranaroussi/yfinance
- NextAuth.js: https://next-auth.js.org/
- Prisma: https://www.prisma.io/
- technicalindicators: https://www.npmjs.com/package/technicalindicators
- Railway: https://railway.app/
- OpenAI API: https://platform.openai.com/docs/

---

## ã¾ã¨ã‚

Stock Buddyã¯ã€Next.jså˜ä¸€æ§‹æˆã«ã‚ˆã‚Šé–‹ç™ºãƒ»é‹ç”¨ãŒã‚·ãƒ³ãƒ—ãƒ«ãªè¨­è¨ˆã€‚
yfinanceã¯Cronã‚¹ã‚¯ãƒªãƒ—ãƒˆã«é™å®šã—ã€æŠ€è¡“æŒ‡æ¨™è¨ˆç®—ã¯JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å®Ÿç¾ã€‚
å€‹äººé–‹ç™ºã§3-4é€±é–“ã§ã®å®Ÿè£…ã‚’ç›®æŒ‡ã™ã€å®Ÿç¾å¯èƒ½æ€§ã®é«˜ã„è¨­è¨ˆã€‚
