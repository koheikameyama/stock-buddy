# Stock Buddy 収益化戦略

## 概要

Stock Buddyの収益化モデルとして、**フリーミアム + 広告**を採用する。
初心者向けサービスのコンセプトを損なわず、持続可能な収益を確保する。

### 展開方針

**段階的アプローチを採用**:
1. まず**無料プラン**で全機能を提供し、ユーザーを獲得
2. **フィードバック収集**で有料化への要望を把握
3. 要望に基づいて**プレミアムプラン**を設計・実装

この方針により、ユーザーが本当に求める機能に対して課金できる。

---

## 1. 現在のフェーズ: 無料プランで展開

### 1.1 無料プランの機能（現状）

| 機能 | 内容 |
|------|------|
| **保有銘柄** | 5銘柄まで |
| **ウォッチリスト** | 5銘柄まで |
| **AI分析レポート** | 毎日 |
| **コーチメッセージ** | 毎日 |
| **レポート種類** | 日次 + 週次 |

### 1.2 フィードバック収集

#### 収集ツール

**Notion** に一本化。
- チェックボックス式の回答も、自由記入も、すべてNotionデータベースに集約
- ビュー切り替えで集計・分析が簡単

#### 収集方法: 機能要望チェックリスト

アプリ内にフィードバックボタンを設置し、クリックでモーダル表示:

```
欲しい機能を教えてください（複数選択OK）

☐ 銘柄を6つ以上登録したい
☐ もっと詳しい分析が見たい
☐ 過去のデータも見たい
☐ 広告を非表示にしたい
☐ 通知のタイミングを変えたい
☐ その他（自由記入）
  [                    ]

[送信]
```

#### 設置場所

| 場所 | トリガー |
|------|---------|
| 設定画面 | 常時表示（「ご意見・ご要望」ボタン） |
| ポートフォリオ画面 | 5銘柄到達時に表示 |
| ウォッチリスト画面 | 5銘柄到達時に表示 |

#### 実装方法

1. Notion データベースを作成（プロパティ: 日時、ユーザーID、選択した項目、自由記入）
2. Notion API で POST
3. アプリ側はシンプルなモーダルコンポーネント

#### 収集したい情報
- 欲しい機能（チェック数で優先度判断）
- 自由記入の要望
- どの画面から送信されたか（ユーザーの状況を把握）

---

## 2. 将来のフェーズ: フリーミアムモデル（案）

> この内容は将来の参考用。実際の設計はユーザーフィードバックに基づいて決定する。

### 2.1 プラン比較（案）

| 機能 | 無料プラン | プレミアム（月額500円） |
|------|-----------|------------------------|
| **保有銘柄** | 3銘柄まで | 5銘柄まで |
| **ウォッチリスト** | 3銘柄まで | 5銘柄まで |
| **AI分析レポート** | 週1回 | 毎日 |
| **コーチメッセージ** | 週1回 | 毎日 |
| **レポート種類** | 週次のみ | 日次 + 週次 |
| **広告表示** | あり | なし |
| **過去データ参照** | 直近1ヶ月 | 全期間 |

### 2.2 プラン設計の意図

#### 無料プランでも十分使える
- 初心者は3銘柄で十分（分散しすぎると管理が難しい）
- 週1回の分析でも投資判断には十分
- **コンバージョン目標**: 無料 → プレミアム 5-10%

#### プレミアムは「もっと本格的にやりたい人」向け
- 毎日の分析で細かく動向を追いたい
- 5銘柄でしっかり分散投資したい
- 広告なしでストレスフリー

### 2.3 価格設定の根拠

- **月額500円**:
  - 心理的ハードル低め（ワンコイン）
  - 競合サービス（マネーフォワード Premium: 500円）と同水準
  - 年額だと5,000円（1ヶ月分お得）オプションも検討

---

## 2. 広告モデル

### 2.1 広告の種類と優先度

| 優先度 | 種類 | 内容 | 収益見込み |
|--------|------|------|-----------|
| **高** | 証券口座アフィリエイト | SBI、楽天、マネックス等の口座開設 | 1件 5,000〜15,000円 |
| **中** | 投資関連書籍 | Amazonアソシエイト | 購入額の3-8% |
| **低** | バナー広告 | Google AdSense | 低単価だが安定 |

### 2.2 証券口座アフィリエイト（最重要）

Stock Buddyのユーザーフローと自然に連携できる。

#### 表示タイミング
1. **オンボーディング完了後**
   - 「この銘柄を購入するには証券口座が必要です」
   - 「まだ口座をお持ちでない方はこちら」

2. **ポートフォリオ画面**
   - 「シミュレーション」から「実際に購入」への導線
   - 「証券口座を開設して実際に投資を始めましょう」

3. **専用ページ**
   - `/guide/open-account` 証券口座開設ガイド
   - 各証券会社の比較表（初心者向け）

#### 提携候補
| 証券会社 | 初心者向け度 | 手数料 | 報酬目安 |
|---------|-------------|--------|---------|
| SBI証券 | ◎ | 無料〜 | 8,000円〜 |
| 楽天証券 | ◎ | 無料〜 | 8,000円〜 |
| マネックス証券 | ○ | 低め | 5,000円〜 |
| 松井証券 | ○ | 無料〜 | 5,000円〜 |

### 2.3 投資関連コンテンツ

#### 書籍紹介
- 「投資初心者におすすめの本」ページ
- AIコーチメッセージ内での自然な紹介
- Amazonアソシエイト経由

#### 紹介候補
- 「難しいことはわかりませんが、お金の増やし方を教えてください!」
- 「本当の自由を手に入れる お金の大学」
- 「投資の大原則」

### 2.4 バナー広告

#### 配置ルール
- **位置**: 画面下部のフッター付近（控えめに）
- **サイズ**: 320x50（モバイル）、728x90（デスクトップ）
- **頻度**: 1画面につき最大1枠

#### 除外する広告
- 怪しい投資商材
- FX・仮想通貨の高リスク商品
- ポップアップ・インタースティシャル

---

## 3. 広告表示ポリシー

### 3.1 基本方針

**「初心者に寄り添う」コンセプトを最優先**

#### やること
- 自然な文脈での案内（押し付けない）
- ユーザーにとって本当に役立つ情報提供
- プレミアムで広告完全非表示

#### やらないこと
- ポップアップ広告
- コンテンツを邪魔する配置
- スクロールを阻害する広告
- 閉じにくい広告
- 怪しい投資商材の広告

### 3.2 表示制限

| ユーザー状態 | 広告表示 |
|-------------|---------|
| 無料プラン | あり（控えめ） |
| プレミアム | なし |
| オンボーディング中 | なし（集中してもらう） |
| 初回ログインから3日間 | なし（まず使ってもらう） |

---

## 4. 収益シミュレーション

### 4.1 前提条件

| 指標 | 想定値 |
|------|--------|
| MAU（月間アクティブユーザー） | 1,000人 |
| 無料 → プレミアム転換率 | 5% |
| 口座開設コンバージョン率 | 2% |
| 口座開設単価 | 8,000円 |

### 4.2 月間収益見込み

| 収益源 | 計算 | 月額 |
|--------|------|------|
| プレミアム課金 | 1,000 × 5% × 500円 | 25,000円 |
| 口座開設アフィリエイト | 1,000 × 2% × 8,000円 | 160,000円 |
| バナー広告 | 低め見積もり | 5,000円 |
| **合計** | | **190,000円** |

### 4.3 スケール時の見込み

| MAU | プレミアム | アフィリエイト | 合計/月 |
|-----|-----------|---------------|--------|
| 1,000 | 25,000円 | 160,000円 | 190,000円 |
| 5,000 | 125,000円 | 800,000円 | 950,000円 |
| 10,000 | 250,000円 | 1,600,000円 | 1,900,000円 |

---

## 5. 実装計画

### 5.1 フェーズ1: プレミアムプラン基盤（優先度: 高）

#### データベース変更

```prisma
// UserSettings に追加
model UserSettings {
  // ... 既存フィールド

  // プレミアム関連
  plan              String   @default("free") // "free" | "premium"
  planStartDate     DateTime?
  planEndDate       DateTime?
  stripeCustomerId  String?  // Stripe顧客ID
  stripeSubscriptionId String? // Stripeサブスク ID
}
```

#### 実装タスク
1. Stripe連携セットアップ
2. プラン管理API (`/api/subscription/*`)
3. プラン判定ミドルウェア
4. 設定画面にプラン表示・アップグレード導線
5. 機能制限の実装（銘柄数、分析頻度）

### 5.2 フェーズ2: 証券口座アフィリエイト（優先度: 高）

#### 実装タスク
1. 口座開設ガイドページ作成 (`/guide/open-account`)
2. 各証券会社の比較コンポーネント
3. オンボーディング完了後の導線追加
4. ポートフォリオ画面への導線追加
5. アフィリエイトリンクのクリック計測

### 5.3 フェーズ3: バナー広告（優先度: 低）

#### 実装タスク
1. Google AdSenseアカウント作成
2. 広告コンポーネント作成
3. プレミアムユーザー判定で非表示
4. 広告ポリシー設定

---

## 6. 決済システム

### 6.1 Stripe採用理由

- 日本円対応
- サブスクリプション管理が容易
- Webhook連携でリアルタイム更新
- PCI DSS準拠（セキュリティ）

### 6.2 決済フロー

```
ユーザー → アップグレードボタン
         → Stripe Checkout Session作成
         → Stripe決済画面
         → 決済完了
         → Webhook受信
         → DBのplanを"premium"に更新
         → 完了画面にリダイレクト
```

### 6.3 API設計

| エンドポイント | メソッド | 機能 |
|--------------|---------|------|
| `/api/subscription/checkout` | POST | Checkout Session作成 |
| `/api/subscription/portal` | POST | 顧客ポータルURL取得 |
| `/api/subscription/webhook` | POST | Stripe Webhook受信 |
| `/api/subscription/status` | GET | 現在のプラン状態取得 |

---

## 7. UI変更点

### 7.1 設定画面

```
現在のプラン: 無料プラン
━━━━━━━━━━━━━━━━━━━━━

[プレミアムにアップグレード]

プレミアムプラン（月額500円）
✓ 保有銘柄: 5銘柄まで
✓ AI分析: 毎日配信
✓ 広告なし
✓ 過去データ: 全期間
```

### 7.2 制限到達時のUI

```
銘柄の上限に達しました

無料プランでは3銘柄までです。
プレミアムプランにアップグレードすると
5銘柄まで追加できます。

[アップグレードする] [閉じる]
```

### 7.3 口座開設導線

```
おめでとうございます！
ポートフォリオが完成しました

実際に投資を始めるには
証券口座が必要です。

[証券口座を開設する] [あとで]
```

---

## 8. 法的・規制対応

### 8.1 必要な対応

| 項目 | 対応 |
|------|------|
| 特定商取引法 | 販売者情報ページの作成 |
| プライバシーポリシー | 決済情報の取り扱い追記 |
| 利用規約 | 課金・解約条件の追記 |
| 広告表示 | 「PR」「広告」の明示 |

### 8.2 免責事項

- 投資助言ではないことの明示
- 投資判断は自己責任である旨の記載
- 過去のパフォーマンスは将来を保証しない旨

---

## 9. KPI・計測

### 9.1 追跡すべき指標

| 指標 | 目標 |
|------|------|
| 無料 → プレミアム転換率 | 5%以上 |
| プレミアム継続率（月次） | 90%以上 |
| 口座開設CVR | 2%以上 |
| 広告クリック率 | 0.5%以上 |
| チャーン率（解約率） | 10%以下 |

### 9.2 計測方法

- Google Analytics 4 でイベント計測
- Stripe Dashboardで課金状況確認
- 独自ログでアフィリエイトクリック計測

---

## 10. ロードマップ

### Phase 0: 無料展開・フィードバック収集（現在）
- [x] 無料プランで全機能提供
- [ ] フィードバックフォーム設置
- [ ] 利用データ分析基盤
- [ ] ユーザーインタビュー実施

### Phase 1: 有料化検討（フィードバック収集後）
- [ ] フィードバック分析・要件定義
- [ ] プレミアムプラン仕様決定
- [ ] Stripe連携・決済基盤
- [ ] 設定画面UI

### Phase 2: 広告・アフィリエイト
- [ ] 証券口座開設ガイドページ
- [ ] アフィリエイトリンク設置
- [ ] バナー広告導入（必要に応じて）

### Phase 3: 将来展開（検討中）
- [ ] デイトレーダー向けプロダクト（Stock Buddy Pro）
- [ ] 高単価サブスク（月額5,000〜30,000円）
- [ ] API提供

---

## 11. 将来の展開可能性

### 11.1 デイトレーダー向け展開（Stock Buddy Pro）

将来的に、経験者向けの別プロダクトを検討。

| 項目 | Stock Buddy（現在） | Stock Buddy Pro（将来） |
|------|-------------------|----------------------|
| ターゲット | 投資初心者 | デイトレーダー・経験者 |
| 価格 | 無料〜500円/月 | 5,000〜30,000円/月 |
| 機能 | シンプル分析 | リアルタイム分析、API |

### 11.2 利益連動型課金について

**採用しない理由**:
1. **法規制**: 投資一任業の登録が必要（金融商品取引法）
2. **複雑性**: 利益計算・徴収の仕組みが煩雑
3. **ユーザー心理**: 損失時の扱いで不信感

**代替案**: 高単価サブスクリプション（ツール利用料として課金）

---

## 改訂履歴

| 日付 | 内容 |
|------|------|
| 2026-01-31 | 初版作成 |
| 2026-01-31 | 段階的展開方針に変更（まず無料→要望収集→有料化） |
